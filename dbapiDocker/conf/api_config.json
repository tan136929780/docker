{"plugins":[],"api":[{"access":1,"alarmPlugins":null,"cachePlugin":null,"contentType":"application/json","createTime":"2023-08-25 15:22:06","createUserId":1,"globalTransformPlugin":null,"groupId":"eeXndBTX","id":"1hlZTD1i","jsonParam":"{\n\t\"fromTime\": \"2023-08-18 00:00:00\",\n\t\"toTime\": \"2029-08-18 23:59:59\"\n}","name":"日志分组统计","note":null,"params":"[]","paramsJson":null,"path":"group_by_type","status":1,"task":"[{\"taskType\":1,\"sqlList\":[{\"sqlText\":\"SELECT REASON, COUNT(*) AS total FROM risk_info\\nWHERE 1 = 1\\n<if test=\\\"fromTime != null and fromTime != ''\\\" >\\n  AND CREATE_AT &gt;= #{fromTime}\\n</if>\\n<if test=\\\"toTime != null and toTime != ''\\\" >\\n  AND CREATE_AT &lt;= #{toTime}\\n</if>\\nGROUP BY REASON\",\"transformPlugin\":null,\"transformPluginParam\":null}],\"transaction\":0,\"datasourceId\":\"9lJHAX0Q\"}]","taskJson":null,"updateTime":"2023-08-25 15:22:06"},{"access":1,"alarmPlugins":null,"cachePlugin":null,"contentType":"application/json","createTime":"2023-08-25 15:21:12","createUserId":1,"globalTransformPlugin":null,"groupId":"eeXndBTX","id":"GSZMtNCe","jsonParam":"{\n        \"quantity\": 20\n}","name":"最新N条数据获取","note":null,"params":"[]","paramsJson":null,"path":"new_list","status":1,"task":"[{\"taskType\":1,\"sqlList\":[{\"sqlText\":\"SELECT * FROM risk_info ORDER BY CREATE_AT DESC LIMIT 0,\\n<if test=\\\"quantity != null and quantity != ''\\\" >\\n  #{quantity}\\n</if>\\n<if test=\\\"quantity == null or quantity == ''\\\" >\\n  10\\n</if>\",\"transformPlugin\":null,\"transformPluginParam\":null}],\"transaction\":0,\"datasourceId\":\"9lJHAX0Q\"}]","taskJson":null,"updateTime":"2023-08-25 15:21:12"},{"access":1,"alarmPlugins":null,"cachePlugin":null,"contentType":"application/json","createTime":"2023-08-25 15:18:14","createUserId":1,"globalTransformPlugin":null,"groupId":"mvX9yBsc","id":"K5G5EUwd","jsonParam":"{\n        \"dataBaseName\": \"sharding_db\",\n\t\"tableName\": \"person\",\n\t\"riskType\": \"insert forbidden\",\n\t\"isPass\": \"1\",\n\t\"pageNum\": 1,\n\t\"pageSize\": 20,\n\t\"fromTime\": \"2023-08-18 16:52:53\",\n\t\"toTime\": \"2023-08-22 16:52:53\"\n}","name":"网关日志列表","note":null,"params":"[]","paramsJson":null,"path":"proxy_log","status":1,"task":"[{\"taskType\":1,\"sqlList\":[{\"sqlText\":\"SELECT COUNT(*) AS total FROM (\\n    SELECT DISTINCT * FROM view_proxy_log\\n WHERE 1=1\\n  <if test=\\\"riskType != null and riskType != ''\\\" >\\n    AND RISK_TYPE = #{riskType}\\n  </if>\\n  <if test=\\\"isPass != null and isPass != ''\\\" >\\n    AND IS_PASS = #{isPass}\\n  </if>\\n  <if test=\\\"tableName != null and tableName != ''\\\" >\\n    AND TABLE_NAME = #{tableName}\\n  </if>\\n  <if test=\\\"dataBaseName != null and dataBaseName != ''\\\" >\\n    AND DATABASE_NAME = #{dataBaseName}\\n  </if>\\n  <if test=\\\"fromTime != null and fromTime != ''\\\" >\\n    AND CREATE_AT &gt;= #{fromTime}\\n  </if>\\n  <if test=\\\"toTime != null and toTime != ''\\\" >\\n    AND CREATE_AT &lt;= #{toTime}\\n  </if>\\n) AS distinct_records;\\n\",\"transformPlugin\":null,\"transformPluginParam\":null},{\"sqlText\":\"SELECT DISTINCT * FROM view_proxy_log\\n  WHERE 1 = 1\\n  <if test=\\\"riskType != null and riskType != ''\\\" >\\n    AND RISK_TYPE = #{riskType}\\n  </if>\\n  <if test=\\\"isPass != null and isPass != ''\\\" >\\n    AND IS_PASS = #{isPass}\\n  </if>\\n  <if test=\\\"tableName != null and tableName != ''\\\" >\\n    AND TABLE_NAME = #{tableName}\\n  </if>\\n  <if test=\\\"dataBaseName != null and dataBaseName != ''\\\" >\\n    AND DATABASE_NAME = #{dataBaseName}\\n  </if>\\n  <if test=\\\"fromTime != null and fromTime != ''\\\" >\\n    AND CREATE_AT &gt;= #{fromTime}\\n  </if>\\n  <if test=\\\"toTime != null and toTime != ''\\\" >\\n    AND CREATE_AT &lt;= #{toTime}\\n  </if>\\nORDER BY CREATE_AT DESC \\n<if test=\\\"pageNum != null and pageNum != ''\\\">\\n    <if test=\\\"pageSize != null and pageSize != ''\\\" >\\n        LIMIT #{(pageNum - 1) * pageSize}, #{pageSize}\\n    </if>\\n    <if test=\\\"pageSize == null or pageSize == ''\\\">\\n        LIMIT #{(pageNum - 1) * 20}, 20\\n    </if>\\n</if>\\n<if test=\\\"pageNum == null or pageNum == ''\\\">\\n    LIMIT 0, \\n    <if test=\\\"pageSize != null and pageSize != ''\\\">\\n        #{pageSize}\\n    </if>\\n    <if test=\\\"pageSize == null or pageSize == ''\\\">\\n        20\\n    </if>\\n</if>\\n\",\"transformPlugin\":null,\"transformPluginParam\":null}],\"transaction\":0,\"datasourceId\":\"9lJHAX0Q\"}]","taskJson":null,"updateTime":"2023-08-25 15:18:14"},{"access":1,"alarmPlugins":null,"cachePlugin":null,"contentType":"application/json","createTime":"2023-08-25 15:23:06","createUserId":1,"globalTransformPlugin":null,"groupId":"3g9g5Lyd","id":"O9AL3xvX","jsonParam":"{\n\t\"riskType\": \"1\",\n\t\"reason\": \"未授权语句\",\n\t\"riskCode\": \"0x0001\",\n\t\"riskLevel\": \"1\"\n}","name":"获取风险信息配置","note":null,"params":"[]","paramsJson":null,"path":"risk_config_list","status":1,"task":"[{\"taskType\":1,\"sqlList\":[{\"sqlText\":\"SELECT RISK_TYPE, RISK_INFO, RISK_LEVEL, RISK_CODE FROM data_sphere_risks WHERE 1=1\\n  <if test=\\\"riskType != null and riskType != ''\\\" >\\n    AND RISK_TYPE = #{riskType}\\n  </if>\\n  <if test=\\\"reason != null and reason != ''\\\" >\\n    AND RISK_INFO = #{reason}\\n  </if>\\n  <if test=\\\"riskLevel != null and riskLevel != ''\\\" >\\n    AND RISK_LEVEL = #{riskLevel}\\n  </if>\\n  <if test=\\\"riskCode != null and riskCode != ''\\\" >\\n    AND RISK_CODE = #{riskCode}\\n  </if>\",\"transformPlugin\":null,\"transformPluginParam\":null}],\"transaction\":0,\"datasourceId\":\"9lJHAX0Q\"}]","taskJson":null,"updateTime":"2023-08-25 15:23:57"}]}